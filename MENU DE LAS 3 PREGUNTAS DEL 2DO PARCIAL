#include <iostream>
#include <cmath> // Para usar pow()
using namespace std;

int main() {
    int opcion;
    int a, b, c;
    
    do {
        // Menú de opciones
        cout << "Elige una opción:\n";
        cout << "1. Determinar el mayor de tres números\n";
        cout << "2. Calcular la serie con ciclo For\n";
        cout << "3. Calcular el peso total de productos\n";
        cout << "4. Salir\n";
        cout << "Opción: ";
        cin >> opcion;

        switch (opcion) {
            case 1: {
                // Ejercicio 1: Determinar el mayor de tres números
                cout << "Introduce el primer número: ";
                cin >> a;
                cout << "Introduce el segundo número: ";
                cin >> b;
                cout << "Introduce el tercer número: ";
                cin >> c;

                if (a == b && b == c) {
                    cout << "Todos los números son iguales.\n";
                } else if (a > b && a > c) {
                    cout << "El mayor número es: " << a << endl;
                } else if (b > a && b > c) {
                    cout << "El mayor número es: " << b << endl;
                } else {
                    cout << "El mayor número es: " << c << endl;
                }
                break;
            }
            case 2: {
                // Ejercicio 2: Calcular la serie con ciclo For
                int x, b;
                int suma = 0;

                // Ingreso de valores con validación
                cout << "Ingrese el valor de x: ";
                cin >> x;
                cout << "Ingrese el valor de b (mayor que 1): ";
                cin >> b;

                if (b <= 1) {
                    cout << "Error: b debe ser mayor que 1." << endl;
                    return 1; // Sale si b es inválido
                }

                // Cálculo de la suma de la serie
                for (int i = 1; i <= b; ++i) {
                    suma += pow(x, i);
                }

                cout << "La suma de la serie es: " << suma << endl;
                break;
            }
            case 3: {
                // Ejercicio 3: Calcular el peso total de productos con validación y opción de continuar
                int cantidadProductos;
                double pesoTotal = 0.0;
                char continuar;

                do {
                    cout << "¿Cuántos productos deseas ingresar? ";
                    cin >> cantidadProductos;

                    for (int i = 1; i <= cantidadProductos; i++) {
                        double peso;
                        cout << "Ingresa el peso del producto " << i << " (en gramos): ";

                        // Validación de peso no negativo
                        do {
                            cin >> peso;
                            if (peso < 0) {
                                cout << "El peso no puede ser negativo. Por favor, ingresa un peso válido: ";
                            }
                        } while (peso < 0);

                        pesoTotal += peso;
                    }

                    cout << "El peso total de los productos es: " << pesoTotal << " gramos.\n";

                    // Preguntar si desea continuar ingresando más productos
                    cout << "¿Quieres ingresar más productos? (s/n): ";
                    cin >> continuar;

                } while (continuar == 's' || continuar == 'S');
                
                break;
            }
            case 4: {
                cout << "¡Hasta luego!\n";
                break;
            }
            default:
                cout << "Opción no válida. Intenta de nuevo.\n";
                break;
        }

    } while (opcion != 4);

    return 0;
}
